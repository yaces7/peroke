<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Periyodik Okey</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Ana Menü Ekranı -->
    <div id="menu-screen" class="ekran">
        <h1>Periyodik Okey</h1>
        <div class="menu-butonlar">
            <button id="btn-oyuna-basla" class="btn-ana">Oyuna Başla</button>
            <button id="btn-ayarlar" class="btn-ana">Ayarlar</button>
            <button id="btn-oyun-yardim" class="btn-ana" onclick="document.getElementById('kontroller-panel').style.display='flex';">Nasıl Oynanır?</button>
        </div>
        <div class="versiyon">v1.0.0</div>
    </div>

    <!-- Oyun Başlangıç Ekranı -->
    <div id="oyun-baslangic-screen" class="ekran gizli">
        <h2>Oyun Ayarları</h2>
        <div class="baslangic-form">
            <div class="form-grup">
                <label for="baslangic-bot-sayisi">Bot Sayısı:</label>
                <div class="secim-butonlar">
                    <button data-value="1" class="secim-buton" onclick="this.classList.add('secili'); this.nextElementSibling.classList.remove('secili'); this.nextElementSibling.nextElementSibling.classList.remove('secili');">1 Bot</button>
                    <button data-value="2" class="secim-buton" onclick="this.classList.add('secili'); this.previousElementSibling.classList.remove('secili'); this.nextElementSibling.classList.remove('secili');">2 Bot</button>
                    <button data-value="3" class="secim-buton secili" onclick="this.classList.add('secili'); this.previousElementSibling.classList.remove('secili'); this.previousElementSibling.previousElementSibling.classList.remove('secili');">3 Bot</button>
                </div>
            </div>
            <div class="form-grup">
                <label for="baslangic-zorluk">Zorluk Seviyesi:</label>
                <div class="secim-butonlar">
                    <button data-value="kolay" class="secim-buton" onclick="this.classList.add('secili'); this.nextElementSibling.classList.remove('secili'); this.nextElementSibling.nextElementSibling.classList.remove('secili');">Kolay</button>
                    <button data-value="orta" class="secim-buton secili" onclick="this.classList.add('secili'); this.previousElementSibling.classList.remove('secili'); this.nextElementSibling.classList.remove('secili');">Orta</button>
                    <button data-value="zor" class="secim-buton" onclick="this.classList.add('secili'); this.previousElementSibling.classList.remove('secili'); this.previousElementSibling.previousElementSibling.classList.remove('secili');">Zor</button>
                </div>
            </div>
            <div class="form-grup">
                <label for="baslangic-oyuncu-ismi">Oyuncu İsmi:</label>
                <input type="text" id="baslangic-oyuncu-ismi" value="Oyuncu" maxlength="15">
            </div>
            <div class="baslangic-butonlar">
                <button id="btn-oyunu-baslat" class="btn-ana">Oyunu Başlat</button>
                <button id="btn-baslangic-iptal" class="btn-ana iptal">İptal</button>
            </div>
        </div>
    </div>

    <!-- Yükleme Ekranı -->
    <div id="yukleme-screen" class="ekran gizli">
        <div class="yukleme-container">
            <h2>Oyun Yükleniyor</h2>
            <div class="yukleme-bar">
                <div class="yukleme-ilerleyis" style="width: 0%"></div>
            </div>
            <p class="yukleme-mesaj">Elementler yükleniyor...</p>
        </div>
    </div>

    <!-- Ayarlar Ekranı -->
    <div id="ayarlar-screen" class="ekran gizli">
        <h2>Oyun Ayarları</h2>
        <div class="ayarlar-form">
            <div class="ayar-grup">
                <label for="bot-sayisi">Bot Sayısı:</label>
                <select id="bot-sayisi">
                    <option value="1">1 Bot</option>
                    <option value="2">2 Bot</option>
                    <option value="3" selected>3 Bot</option>
                </select>
            </div>
            <div class="ayar-grup">
                <label for="zorluk-seviyesi">Zorluk Seviyesi:</label>
                <select id="zorluk-seviyesi">
                    <option value="kolay">Kolay</option>
                    <option value="orta" selected>Orta</option>
                    <option value="zor">Zor</option>
                </select>
            </div>
            <div class="ayar-grup">
                <label for="oyuncu-ismi">Oyuncu İsmi:</label>
                <input type="text" id="oyuncu-ismi" value="Oyuncu" maxlength="15">
            </div>
            <div class="ayar-grup checkbox-grup">
                <input type="checkbox" id="ses-efektleri" checked>
                <label for="ses-efektleri">Ses Efektleri</label>
            </div>
            <div class="ayar-grup checkbox-grup">
                <input type="checkbox" id="muzik" checked>
                <label for="muzik">Arka Plan Müziği</label>
            </div>
            <div class="ayar-butonlar">
                <button id="btn-ayarlari-kaydet" class="btn-ayar">Kaydet</button>
                <button id="btn-ayarlari-iptal" class="btn-ayar">İptal</button>
            </div>
        </div>
    </div>

    <!-- Oyun Ekranı -->
    <div id="oyun-screen" class="ekran gizli">
        <div class="ust-bar">
            <button id="btn-oyun-menu" class="btn-menu">Menü</button>
            <div id="kalan-kart-bilgisi">Kalan Kart: <span id="kalan-kart">118</span></div>
            <button id="btn-oyun-ayarlar" class="btn-ayarlar">Ayarlar</button>
        </div>
        
        <div class="bot-container">
            <!-- Bot 1 -->
            <div id="bot-1" class="bot-alan">
                <h3>Bot 1</h3>
                <div class="bot-kartlar"></div>
                <div class="bot-bilgi">
                    <div class="bot-yildizlar"></div>
                    <div class="bot-kart-sayisi">0 kart</div>
                </div>
            </div>
            
            <!-- Bot 2 -->
            <div id="bot-2" class="bot-alan">
                <h3>Bot 2</h3>
                <div class="bot-kartlar"></div>
                <div class="bot-bilgi">
                    <div class="bot-yildizlar"></div>
                    <div class="bot-kart-sayisi">0 kart</div>
                </div>
            </div>
            
            <!-- Bot 3 -->
            <div id="bot-3" class="bot-alan">
                <h3>Bot 3</h3>
                <div class="bot-kartlar"></div>
                <div class="bot-bilgi">
                    <div class="bot-yildizlar"></div>
                    <div class="bot-kart-sayisi">0 kart</div>
                </div>
            </div>
        </div>
        
        <div class="orta-alan">
            <!-- Çek -->
            <div id="cek-alani" class="cek-alani sürükle-hedef">Çek</div>
            
            <!-- Açık Kart Alanı -->
            <div id="acik-kart-alani" class="acik-kart-alani sürükle-hedef">
                <div id="acik-kart"></div>
            </div>
        </div>
        
        <!-- Durum Mesajı -->
        <div id="durum-mesaji">Oyuna başlıyorsunuz...</div>
        
        <!-- Yükleniyor Mesajı (Başlangıçta gizli) -->
        <div id="oyun-yukleniyor" style="display: none;">Oyun yükleniyor...</div>
        
        <!-- Oyuncu Alanı -->
        <div class="oyuncu-alan">
            <h3>Oyuncu: <span id="oyuncu-isim-goster">Oyuncu</span></h3>
            <div class="oyuncu-yildizlar"></div>
            
            <!-- Oyuncu Kartları -->
            <div id="oyuncu-kartlari" class="sürükle-hedef"></div>
            
            <!-- Butonlar -->
            <div class="buton-grubu">
                <button id="btn-kart-al" class="oyun-buton">Kart Çek</button>
                <button id="btn-kontrol-et" class="oyun-buton">Kontrol Et</button>
                <button id="btn-kart-at" class="oyun-buton gizli">Kartı At</button>
                <button id="btn-geri-koy" class="oyun-buton gizli">Kartı Geri Koy</button>
            </div>
        </div>
    </div>

    <!-- Oyun Sonu Ekranı -->
    <div id="oyun-sonu-screen" class="ekran gizli">
        <h2>Oyun Bitti!</h2>
        <div id="sonuc-mesaji" class="sonuc-mesaj"></div>
        <div class="skor-tablosu">
            <h3>Skor Tablosu</h3>
            <div id="skor-liste" class="skor-liste"></div>
        </div>
        <div class="menu-butonlar">
            <button id="btn-tekrar-oyna" class="btn-ana">Tekrar Oyna</button>
            <button id="btn-ana-menuye-don" class="btn-ana">Ana Menüye Dön</button>
        </div>
    </div>

    <!-- Oyun Kontrolleri Yardımı -->
    <div id="kontroller-panel" class="gizli" style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); display:none; justify-content:center; align-items:center; z-index:9999;">
        <div class="kontroller-icerik">
            <h3>Oyun Kontrolleri</h3>
            <ul>
                <li><strong>Kart Seçme:</strong> Kartlara tıklayarak seçebilirsiniz</li>
                <li><strong>Kombinasyon:</strong> En az 3 kart seçip "Kontrol Et" butonuna basın</li>
                <li><strong>Kart Çekme:</strong> Desteden kart çekmek için destenin üzerine tıklayın</li>
                <li><strong>Açık Kart Alma:</strong> "Açık Kartı Al" butonunu kullanın</li>
                <li><strong>Kart Atma:</strong> Bir kart seçip "Kartı At" butonuna basın</li>
            </ul>
            <button id="btn-kontroller-kapat" class="btn-kapat" onclick="document.getElementById('kontroller-panel').style.display='none';">Kapat</button>
        </div>
    </div>

    <!-- JavaScript Dosyaları -->
    <script src="scripts/oyun_mantigi.js"></script>
    <script src="scripts/main.js"></script>
    
    <!-- Direkt çalışan JavaScript kodu -->
    <script>
        // Basit element verileri
        const ELEMENT_VERILERI = [
            { atom_no: 1, sembol: "H", isim: "Hidrojen", grup: 1, periyot: 1 },
            { atom_no: 2, sembol: "He", isim: "Helyum", grup: 18, periyot: 1 },
            { atom_no: 3, sembol: "Li", isim: "Lityum", grup: 1, periyot: 2 },
            { atom_no: 4, sembol: "Be", isim: "Berilyum", grup: 2, periyot: 2 },
            { atom_no: 5, sembol: "B", isim: "Bor", grup: 13, periyot: 2 },
            { atom_no: 6, sembol: "C", isim: "Karbon", grup: 14, periyot: 2 },
            { atom_no: 7, sembol: "N", isim: "Azot", grup: 15, periyot: 2 },
            { atom_no: 8, sembol: "O", isim: "Oksijen", grup: 16, periyot: 2 },
            { atom_no: 9, sembol: "F", isim: "Flor", grup: 17, periyot: 2 },
            { atom_no: 10, sembol: "Ne", isim: "Neon", grup: 18, periyot: 2 }
        ];
        
        // Element renkleri
        const ELEMENT_RENKLERI = {
            1: "#ff9aa2", 
            2: "#ffb7b2", 
            13: "#ffdac1", 
            14: "#e2f0cb", 
            15: "#b5ead7", 
            16: "#c7ceea", 
            17: "#9fd8df", 
            18: "#f2a2e8"
        };
        
        // Ekranları gösterme/gizleme fonksiyonu
        function ekraniGoster(ekranId) {
            console.log("Ekran değiştiriliyor: " + ekranId);
            document.querySelectorAll('.ekran').forEach(ekran => {
                ekran.classList.add('gizli');
                ekran.style.display = 'none';
            });
            const ekran = document.getElementById(ekranId);
            if (ekran) {
                ekran.classList.remove('gizli');
                ekran.style.display = 'block';
            } else {
                console.error(`Ekran bulunamadı: ${ekranId}`);
            }
        }
        
        // Element kartı oluştur
        function elementKartiOlustur(element, boyut = 1.0) {
            const kart = document.createElement('div');
            kart.className = 'element-kart';
            kart.dataset.id = element.atom_no;
            
            // Boyut ayarlaması
            if (boyut !== 1.0) {
                kart.style.transform = `scale(${boyut})`;
                kart.style.margin = '2px';
            }
            
            // Atom Numarası
            const atomNo = document.createElement('div');
            atomNo.className = 'atom-no';
            atomNo.textContent = element.atom_no;
            kart.appendChild(atomNo);
            
            // Sembol
            const sembol = document.createElement('div');
            sembol.className = 'sembol';
            sembol.textContent = element.sembol;
            kart.appendChild(sembol);
            
            // İsim
            const isim = document.createElement('div');
            isim.className = 'isim';
            isim.textContent = element.isim;
            kart.appendChild(isim);
            
            // Grup-Periyot
            const grupPeriyot = document.createElement('div');
            grupPeriyot.className = 'grup-periyot';
            grupPeriyot.textContent = `G:${element.grup} P:${element.periyot}`;
            kart.appendChild(grupPeriyot);
            
            // Renk
            const renk = ELEMENT_RENKLERI[element.grup] || "#3498db"; // Varsayılan mavi
            kart.style.backgroundColor = renk;
            
            // Kart seçimi için tıklama olayı
            kart.addEventListener('click', function() {
                const seciliMi = kart.classList.toggle('secili');
                
                // Kart seçildiğinde butonları göster/gizle
                document.getElementById('btn-kart-ver').style.display = seciliMi ? 'inline-block' : 'none';
                document.getElementById('btn-geri-koy').style.display = seciliMi ? 'inline-block' : 'none';
            });
            
            return kart;
        }
        
        // Kartları oluştur ve oyun ekranını hazırla
        function oyunuBaslat() {
            console.log("Oyun başlatılıyor...");
            
            // Kalan kart sayısını güncelle
            document.getElementById('kalan-kart').textContent = '118';
            
            // Durum mesajını güncelle
            document.getElementById('durum-mesaji').textContent = 'Sıra sizde. Kartlarınızı gruplandırın.';
            
            // Oyuncu kartlarını oluştur ve ekle
            const oyuncuKartlariDiv = document.getElementById('oyuncu-kartlari');
            if (oyuncuKartlariDiv) {
                oyuncuKartlariDiv.innerHTML = '';
                
                // Her elementten bir kart ekle (normalde burada oyuncu için 14 kart dağıtılacak)
                for (let i = 0; i < 14; i++) {
                    const elementIndex = Math.floor(Math.random() * ELEMENT_VERILERI.length);
                    const element = ELEMENT_VERILERI[elementIndex];
                    const kart = elementKartiOlustur(element);
                    oyuncuKartlariDiv.appendChild(kart);
                }
            }
            
            // Bot kartlarını ekle (küçültülmüş şekilde)
            for (let botIndex = 1; botIndex <= 3; botIndex++) {
                const botKartlarDiv = document.getElementById(`bot${botIndex}-kartlar`);
                if (botKartlarDiv) {
                    botKartlarDiv.innerHTML = '';
                    
                    // Her bot için 14 kart ekle
                    for (let i = 0; i < 14; i++) {
                        const elementIndex = Math.floor(Math.random() * ELEMENT_VERILERI.length);
                        const element = ELEMENT_VERILERI[elementIndex];
                        // Botların kartları %60 daha küçük
                        const kart = elementKartiOlustur(element, 0.6);
                        kart.classList.add('bot-kart');
                        botKartlarDiv.appendChild(kart);
                    }
                }
            }
            
            // Kart at ve Kart geri koy butonlarını gizle (kart seçilmediği sürece)
            document.getElementById('btn-kart-ver').style.display = 'none';
            document.getElementById('btn-geri-koy').style.display = 'none';
            
            // Oyun ekranını göster
            ekraniGoster('oyun-screen');
        }
        
        // Sayfa yüklendikten sonra hemen çalışacak kod
        document.addEventListener('DOMContentLoaded', function() {
            console.log("Doğrudan JavaScript çalıştırılıyor...");
            
            // Ana menü butonlarına tıklama olayları ekle
            const btnOyunaBasla = document.getElementById('btn-oyuna-basla');
            if (btnOyunaBasla) {
                btnOyunaBasla.onclick = function() {
                    ekraniGoster('oyun-baslangic-screen');
                };
            }
            
            const btnAyarlar = document.getElementById('btn-ayarlar');
            if (btnAyarlar) {
                btnAyarlar.onclick = function() {
                    ekraniGoster('ayarlar-screen');
                };
            }
            
            // Oyunu başlat butonuna tıklama olayı ekle
            const btnOyunuBaslat = document.getElementById('btn-oyunu-baslat');
            if (btnOyunuBaslat) {
                btnOyunuBaslat.onclick = function() {
                    // Yükleme ekranına geç
                    ekraniGoster('yukleme-screen');
                    
                    // 3 saniye sonra oyunu başlat
                    setTimeout(oyunuBaslat, 3000);
                };
            }
            
            // İptal butonuna tıklama olayı ekle
            const btnBaslangicIptal = document.getElementById('btn-baslangic-iptal');
            if (btnBaslangicIptal) {
                btnBaslangicIptal.onclick = function() {
                    ekraniGoster('menu-screen');
                };
            }
            
            // İlk ekranı göster
            ekraniGoster('menu-screen');
        });
    </script>
</body>
</html> 